[gd_scene load_steps=19 format=3 uid="uid://b120i1djkd6ov"]

[ext_resource type="TileSet" uid="uid://b1pjut54o3psb" path="res://level/tile_set.tres" id="1_5l28f"]
[ext_resource type="Script" path="res://level/Level.cs" id="1_mpqb3"]
[ext_resource type="PackedScene" uid="uid://ca8tblhg3tw5u" path="res://player/player.tscn" id="2_an21l"]
[ext_resource type="PackedScene" uid="uid://d0q2skjqm3ygv" path="res://UI/UI.tscn" id="2_qcoqm"]
[ext_resource type="Script" path="res://level/Camera.cs" id="3_ro6ko"]
[ext_resource type="PackedScene" uid="uid://dlb5w33rqpxbs" path="res://obstacles/Spike.tscn" id="5_ms5fr"]
[ext_resource type="Script" path="res://level/KillTrigger.cs" id="5_rxcub"]
[ext_resource type="PackedScene" uid="uid://dtuy5vskpyg3l" path="res://obstacles/falling_tile.tscn" id="6_0i5uw"]
[ext_resource type="PackedScene" uid="uid://bbyoyqsgm76b3" path="res://enemies/basic_enemy.tscn" id="6_mer51"]
[ext_resource type="Script" path="res://level/SpawnTrigger.cs" id="8_3o3d2"]
[ext_resource type="Script" path="res://level/NarratorDialogueTrigger.cs" id="11_ux0dh"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_lprav"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_w0ofj"]
size = Vector2(60, 300)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_qqjs3"]
size = Vector2(360, 600)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_78gp6"]
size = Vector2(360, 360)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_50fll"]
size = Vector2(480, 840)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fclxh"]
size = Vector2(240, 540)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_cikob"]
size = Vector2(360, 600)

[node name="Level" type="Node2D" node_paths=PackedStringArray("player")]
script = ExtResource("1_mpqb3")
player = NodePath("Player")
deathDialogues = PackedStringArray("Oops! Watch out for pits and spikes! They kill you.", "", "Darn. Well, give it another shot!", "", "Ouch.", "", "Having trouble, hmm?", "", "You\'re not good at this, are you?", "", "[wave amp=50.0 freq=5.0 connected=1]Hahaha![/wave] I can only imagine your face right now.", "", "This is sad.", "", "Ha.", "Haha.", "[shake rate=20.0 level=20 connected=1]HAHAHAHA[/shake]", "", "Fool. [shake rate=20.0 level=20 connected=1]FOOL!!![/shake]", "", "", "", "", "", "Are... You okay? I\'m genuinely starting to get worried.", "Not.")

[node name="Player" parent="." node_paths=PackedStringArray("respawnPoint") instance=ExtResource("2_an21l")]
position = Vector2(-4620, 840)
respawnPoint = NodePath("../Player Respawn Points/Node2D")

[node name="Camera" type="Camera2D" parent="." node_paths=PackedStringArray("_player")]
position = Vector2(-4620, 660)
position_smoothing_speed = 4.0
script = ExtResource("3_ro6ko")
_player = NodePath("../Player")
_xOffset = 480.0
_yBaseline = 840.0
_yOffset = 540.0
_yScale = 0.2
_yExtremeMin = -80.0
_yExtremeMax = 120.0

[node name="Ui" parent="Camera" instance=ExtResource("2_qcoqm")]
z_index = 128
z_as_relative = false
position = Vector2(-960, -540)

[node name="TileMap" type="TileMap" parent="."]
tile_set = ExtResource("1_5l28f")
format = 2
layer_0/tile_data = PackedInt32Array(524288, 0, 1, 524289, 0, 1, 524290, 0, 1, 524291, 0, 1, 524292, 0, 1, 524293, 0, 1, 524302, 0, 1, 524303, 0, 1, 524304, 0, 1, 524305, 0, 1, 524306, 0, 1, 393239, 65536, 0, 524319, 0, 1, 524320, 0, 1, 524321, 0, 1, 524307, 0, 1, 458752, 0, 0, 458753, 0, 0, 458754, 0, 0, 458755, 0, 0, 458756, 0, 0, 458757, 0, 0, 458766, 0, 0, 458767, 0, 0, 458768, 0, 0, 458769, 0, 0, 458770, 0, 0, 458771, 0, 0, 458783, 0, 0, 458784, 0, 0, 458785, 0, 0, 589824, 0, 1, 589825, 0, 1, 589826, 0, 1, 589827, 0, 1, 589828, 0, 1, 589829, 0, 1, 589838, 0, 1, 589839, 0, 1, 589840, 0, 1, 589841, 0, 1, 589842, 0, 1, 589843, 0, 1, 589855, 0, 1, 589856, 0, 1, 589857, 0, 1, 589858, 0, 1, 655359, 0, 1, 589823, 0, 1, 589822, 0, 1, 589821, 0, 1, 589820, 0, 1, 589819, 0, 1, 589818, 0, 1, 589817, 0, 1, 589816, 0, 1, 589815, 0, 1, 589814, 0, 1, 589813, 0, 1, 655349, 0, 1, 655348, 0, 1, 655350, 0, 1, 655351, 0, 1, 655352, 0, 1, 655353, 0, 1, 655354, 0, 1, 655355, 0, 1, 655356, 0, 1, 655357, 0, 1, 655358, 0, 1, 589812, 0, 1, 524287, 0, 0, 524286, 0, 0, 524285, 0, 0, 524284, 0, 0, 524283, 0, 0, 524282, 0, 0, 524281, 0, 0, 524280, 0, 0, 524279, 0, 0, 524278, 0, 0, 524277, 0, 0, 524276, 0, 0, 524268, 0, 0, 589804, 0, 1, 589805, 0, 1, 589806, 0, 1, 589807, 0, 1, 589808, 0, 1, 589809, 0, 1, 589810, 0, 1, 589811, 0, 1, 655347, 0, 1, 655346, 0, 1, 655345, 0, 1, 655344, 0, 1, 655343, 0, 1, 655342, 0, 1, 655341, 0, 1, 655340, 0, 1, 524270, 0, 0, 524269, 0, 0, 524271, 0, 0, 524275, 0, 0, 524274, 0, 0, 524272, 0, 0, 524273, 0, 0, 589859, 0, 1, 589860, 0, 1, 589861, 0, 1, 589862, 0, 1, 589863, 0, 1, 589864, 0, 1, 524322, 0, 1, 458786, 0, 0, 589865, 0, 1, 589866, 0, 1, 589867, 0, 1, 589868, 0, 1, 589869, 0, 1, 589870, 0, 1, 589871, 0, 1, 589872, 0, 1, 589873, 0, 1, 589874, 0, 1, 458803, 0, 0, 458804, 0, 0, 458805, 0, 0, 458806, 0, 0, 524339, 0, 1, 524340, 0, 1, 524341, 0, 1, 524342, 0, 1, 589878, 0, 1, 589877, 0, 1, 589876, 0, 1, 589875, 0, 1, 524328, 0, 1, 524333, 0, 1, 458792, 0, 0, 458797, 0, 0, 393240, 65536, 0, 589879, 0, 1, 524343, 0, 1, 458807, 0, 1, 393271, 0, 1, 393272, 0, 1, 393273, 0, 1, 393274, 0, 1, 393275, 0, 1, 393276, 0, 1, 458811, 0, 1, 524347, 0, 1, 524346, 0, 1, 524345, 0, 1, 524344, 0, 1, 458808, 0, 1, 458809, 0, 1, 589880, 0, 1, 589881, 0, 1, 458810, 0, 1, 589882, 0, 1, 589883, 0, 1, 589884, 0, 1, 524348, 0, 1, 458812, 0, 1, 327735, 0, 0, 327736, 0, 0, 327737, 0, 0, 327738, 0, 0, 327739, 0, 0, 327740, 0, 0, 327745, 0, 0, 327746, 0, 0, 327747, 0, 0, 327748, 0, 0, 327749, 0, 0, 524362, 0, 0, 524363, 0, 0, 524364, 0, 0, 131146, 0, 0, 131147, 0, 0, 131148, 0, 0, 327766, 0, 0, 327767, 0, 0, 327768, 0, 0, 327769, 0, 0, 327770, 0, 0, 327771, 0, 0, 327772, 0, 0, 327773, 0, 0, 393302, 0, 1, 458838, 0, 1, 524374, 0, 1, 589910, 0, 1, 589911, 0, 1, 589912, 0, 1, 589913, 0, 1, 524377, 0, 1, 524378, 0, 1, 524379, 0, 1, 524380, 0, 1, 589916, 0, 1, 589917, 0, 1, 524381, 0, 1, 458845, 0, 1, 393309, 0, 1, 393308, 0, 1, 393307, 0, 1, 393306, 0, 1, 393305, 0, 1, 393304, 0, 1, 393303, 0, 1, 458839, 0, 1, 524375, 0, 1, 524376, 0, 1, 458840, 0, 1, 458841, 0, 1, 458842, 0, 1, 458843, 0, 1, 458844, 0, 1, 589915, 0, 1, 589914, 0, 1, 196699, 131072, 0, 262235, 131072, 1, 524267, 0, 0, 524266, 0, 0, 524265, 0, 0, 524264, 0, 0, 524263, 0, 0, 524262, 0, 0, 524261, 0, 0, 524260, 0, 0, 524259, 0, 0, 524258, 0, 0, 524257, 0, 0, 589803, 0, 1, 589802, 0, 1, 589801, 0, 1, 655337, 0, 1, 655336, 0, 1, 655335, 0, 1, 655334, 0, 1, 589798, 0, 1, 655333, 0, 1, 655332, 0, 1, 655331, 0, 1, 655330, 0, 1, 589794, 0, 1, 589793, 0, 1, 589792, 0, 1, 655328, 0, 1, 655329, 0, 1, 589795, 0, 1, 589796, 0, 1, 589797, 0, 1, 589799, 0, 1, 589800, 0, 1, 655338, 0, 1, 655339, 0, 1, 524256, 0, 0, 655327, 0, 1, 655326, 0, 1, 655325, 0, 1, 655324, 0, 1, 655323, 0, 1, 655322, 0, 1, 524250, 0, 0, 524251, 0, 0, 524252, 0, 0, 524253, 0, 0, 524254, 0, 0, 524255, 0, 0, 589790, 0, 1, 589786, 0, 1, 589787, 0, 1, 589788, 0, 1, 589789, 0, 1, 589791, 0, 1, 655321, 0, 1, 589785, 0, 1, 524249, 0, 0, 655320, 0, 1, 655319, 0, 1, 655318, 0, 1, 655317, 0, 1, 655316, 0, 1, 655315, 0, 1, 655314, 0, 1, 655313, 0, 1, 655312, 0, 1, 458711, 0, 1, 458710, 0, 1, 458709, 0, 1, 458708, 0, 1, 458707, 0, 1, 458706, 0, 1, 458705, 0, 1, 458704, 0, 1, 524240, 0, 1, 524241, 0, 1, 524242, 0, 1, 524243, 0, 1, 524244, 0, 1, 524245, 0, 1, 524246, 0, 1, 524247, 0, 1, 524248, 0, 0, 589784, 0, 1, 589783, 0, 1, 589782, 0, 1, 589781, 0, 1, 589780, 0, 1, 589779, 0, 1, 589778, 0, 1, 589777, 0, 1, 589776, 0, 1, 393175, 0, 1, 327639, 0, 1, 262103, 0, 1, 196567, 0, 1, 196566, 0, 1, 196565, 0, 1, 196564, 0, 1, 196563, 0, 1, 196562, 0, 1, 196561, 0, 1, 196560, 0, 1, 262096, 0, 1, 327632, 0, 1, 393168, 0, 1, 393169, 0, 1, 327633, 0, 1, 262097, 0, 1, 262098, 0, 1, 262099, 0, 1, 262100, 0, 1, 262101, 0, 1, 262102, 0, 1, 327638, 0, 1, 393174, 0, 1, 393173, 0, 1, 393172, 0, 1, 327636, 0, 1, 327635, 0, 1, 327634, 0, 1, 393170, 0, 1, 393171, 0, 1, 327637, 0, 1, 131031, 0, 0, 131030, 0, 0, 131029, 0, 0, 131028, 0, 0, 131027, 0, 0, 131026, 0, 0, 131025, 0, 0, 131024, 0, 0, 524301, 0, 1, 589837, 0, 1, 589836, 0, 1, 524300, 0, 1, 524299, 0, 1, 589835, 0, 1, 458763, 0, 0, 458764, 0, 0, 458765, 0, 0)

[node name="Floor Kill" type="Area2D" parent="."]
collision_mask = 2
script = ExtResource("5_rxcub")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Floor Kill"]
position = Vector2(0, 1200)
shape = SubResource("WorldBoundaryShape2D_lprav")

[node name="Spikes" type="Node2D" parent="."]

[node name="Spike" parent="Spikes" instance=ExtResource("5_ms5fr")]
position = Vector2(4260, 1020)

[node name="Spike2" parent="Spikes" instance=ExtResource("5_ms5fr")]
position = Vector2(4380, 1020)

[node name="Spike3" parent="Spikes" instance=ExtResource("5_ms5fr")]
position = Vector2(4500, 1020)

[node name="Spike4" parent="Spikes" instance=ExtResource("5_ms5fr")]
position = Vector2(4620, 1020)

[node name="Spike5" parent="Spikes" instance=ExtResource("5_ms5fr")]
position = Vector2(4740, 1020)

[node name="Spike6" parent="Spikes" instance=ExtResource("5_ms5fr")]
position = Vector2(4980, 1020)

[node name="Spike7" parent="Spikes" instance=ExtResource("5_ms5fr")]
position = Vector2(5100, 1020)

[node name="Spike8" parent="Spikes" instance=ExtResource("5_ms5fr")]
position = Vector2(5220, 1020)

[node name="Spike9" parent="Spikes" instance=ExtResource("5_ms5fr")]
position = Vector2(5340, 1020)

[node name="Spike10" parent="Spikes" instance=ExtResource("5_ms5fr")]
position = Vector2(5580, 1020)

[node name="Spike11" parent="Spikes" instance=ExtResource("5_ms5fr")]
position = Vector2(5700, 1020)

[node name="Spike12" parent="Spikes" instance=ExtResource("5_ms5fr")]
position = Vector2(5820, 1020)

[node name="Spike13" parent="Spikes" instance=ExtResource("5_ms5fr")]
position = Vector2(5940, 1020)

[node name="Spike14" parent="Spikes" instance=ExtResource("5_ms5fr")]
position = Vector2(6060, 1020)

[node name="Falling Tiles" type="Node2D" parent="."]

[node name="Falling Tile" parent="Falling Tiles" instance=ExtResource("6_0i5uw")]
position = Vector2(3060, 780)

[node name="Falling Tile2" parent="Falling Tiles" instance=ExtResource("6_0i5uw")]
position = Vector2(3180, 780)

[node name="Enemies" type="Node2D" parent="."]

[node name="Basic Enemy" parent="Enemies" node_paths=PackedStringArray("_minWanderPoint", "_maxWanderPoint") instance=ExtResource("6_mer51")]
position = Vector2(8100, 540)
_minWanderPoint = NodePath("../Min Wander")
_maxWanderPoint = NodePath("../Max Wander")

[node name="Min Wander" type="Node2D" parent="Enemies"]
position = Vector2(7860, 600)

[node name="Max Wander" type="Node2D" parent="Enemies"]
position = Vector2(8340, 600)

[node name="Triggers" type="Node2D" parent="."]

[node name="Spawn Spike" type="Area2D" parent="Triggers" node_paths=PackedStringArray("spawnObjects")]
collision_mask = 2
script = ExtResource("8_3o3d2")
spawnObjects = [NodePath("Spike")]

[node name="Collision" type="CollisionShape2D" parent="Triggers/Spawn Spike"]
position = Vector2(5460, 660)
shape = SubResource("RectangleShape2D_w0ofj")

[node name="Spike" parent="Triggers/Spawn Spike" instance=ExtResource("5_ms5fr")]
position = Vector2(5460, 780)

[node name="Spawn Spike2" type="Area2D" parent="Triggers" node_paths=PackedStringArray("spawnObjects")]
collision_mask = 2
script = ExtResource("8_3o3d2")
spawnObjects = [NodePath("Spike"), NodePath("Spike2"), NodePath("Spike3")]

[node name="Collision" type="CollisionShape2D" parent="Triggers/Spawn Spike2"]
position = Vector2(9060, 660)
shape = SubResource("RectangleShape2D_qqjs3")

[node name="Spike" parent="Triggers/Spawn Spike2" instance=ExtResource("5_ms5fr")]
position = Vector2(8940, 900)

[node name="Spike2" parent="Triggers/Spawn Spike2" instance=ExtResource("5_ms5fr")]
position = Vector2(9060, 900)

[node name="Spike3" parent="Triggers/Spawn Spike2" instance=ExtResource("5_ms5fr")]
position = Vector2(9180, 900)

[node name="ND Spawn" type="Area2D" parent="Triggers"]
collision_mask = 2
script = ExtResource("11_ux0dh")
text = "Hello Player! Welcome to my game! I, the developer and narrator, shall guide you through my spectacular adventure!"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Triggers/ND Spawn"]
position = Vector2(-4620, 660)
shape = SubResource("RectangleShape2D_78gp6")

[node name="ND Jump Input" type="Area2D" parent="Triggers"]
collision_mask = 2
script = ExtResource("11_ux0dh")
text = "Press space or up arrow to jump!"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Triggers/ND Jump Input"]
position = Vector2(240, 420)
shape = SubResource("RectangleShape2D_50fll")

[node name="ND Falling Blocks" type="Area2D" parent="Triggers"]
collision_mask = 2
script = ExtResource("11_ux0dh")
text = "Oof... Yeah sorry, should have mentioned those blocks would fall. Haha! My bad."

[node name="CollisionShape2D" type="CollisionShape2D" parent="Triggers/ND Falling Blocks"]
position = Vector2(3120, 930)
shape = SubResource("RectangleShape2D_fclxh")

[node name="ND Wrong Way" type="Area2D" parent="Triggers"]
collision_mask = 2
script = ExtResource("11_ux0dh")
text = "[i]ERR![/i] Wrong way! Try again."

[node name="CollisionShape2D" type="CollisionShape2D" parent="Triggers/ND Wrong Way"]
position = Vector2(9060, 660)
shape = SubResource("RectangleShape2D_cikob")

[node name="Player Respawn Points" type="Node2D" parent="."]

[node name="Node2D" type="Node2D" parent="Player Respawn Points"]
position = Vector2(0, 840)
